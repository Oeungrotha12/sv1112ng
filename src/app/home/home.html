<div class="container my-5">
  <!-- Hero Section -->
  <div class="p-5 text-center bg-light rounded-3 mb-5">
    <h1 class="display-4 fw-bold">Welcome to ZARA</h1>
    <p class="lead">Discover amazing products at unbeatable prices</p>
  </div>

  <!-- Loading Indicator -->
  @if (isLoading) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2">Loading products...</p>
    </div>
  }

  <!-- Products Grid -->
  @if (!isLoading) {
    <div class="row">
      @for (product of products; track product.id) {
        <div class="col-md-3" style="float: left; padding: 5px">
          <div class="card h-100">
            <div class="disound-badge">
              <span class="badge bg-dark disound-badge">{{ product.category }}</span>
            </div>
            <a [routerLink]="['/product-detail']" [queryParams]="{ product_id: product.id }">
              <img
                [src]="product.image"
                style="cursor: pointer; height: 200px; object-fit: contain; padding: 15px;"
                class="card-img-top pro-img"
                alt="Product"
              />
            </a>
            <div class="card-body">
              <h5 class="card-title product-title">{{ product.title | truncate:30 }}</h5>
              <div class="price-container mb-2">
                <span class="badge me-2" style="font-size: medium; font-weight: bold; background-color: rgb(0, 0, 0); color: rgb(255, 255, 255);">
                  {{ product.price | currency }}
                </span>
                <span class="badge" style="font-size: medium; font-weight: bold; background-color: rgb(0, 0, 0); color: rgb(255, 255, 255);">
                  {{ product.price | toKHR }}
                </span>
              </div>
              <a [routerLink]="['/product-detail']" [queryParams]="{ product_id: product.id }" style="text-decoration: none; color: inherit;">
                <h6 class="product-description text-muted" style="cursor: pointer; font-size: 0.9rem;">
                  {{ product.description | truncate:80 }}
                </h6>
              </a>
              <button class="btn btn-dark w-100 mt-2" (click)="addToCart(product)">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>